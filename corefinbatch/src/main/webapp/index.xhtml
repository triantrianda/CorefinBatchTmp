<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:prime="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
<title>:: MBF IT | CorefinBatch - FUJITSU INDONESIA ::</title>
	<style>
.nav-tabs>li.active>a, .nav-tabs>li.active>a:hover, .nav-tabs>li.active>a:focus
	{
	background-color: #ddd !important;
}

table {
	font-size: 12px;
}
</style>
</h:head>
<body>
	<b:navBar brand="COREFIN BATCH" brandHref="index.jsf" inverse="true"
		fixed="true">
		<b:navLink value="About"
			pt:onclick="$('.aboutModalPseudoClass').modal('show');return false;"></b:navLink>
	</b:navBar>
	<b:container>
		<h:form id="formID">

			<b:modal id="aboutModal" title="About"
				styleClass="aboutModalPseudoClass">
				<b:panel>
       			     This is prototype of Batch Monitoring
   			     </b:panel>
			</b:modal>

			<b:row>
				<b:column span="3">
					<prime:tree value="#{batchBasicView.root}" var="node"
						dynamic="true" style="border:0px" selectionMode="single"
						selection="#{batchViewHandler.selectedNode}" id="treeBatch">
						<prime:ajax event="select" update="@form"
							listener="#{batchViewHandler.onNodeSelect}" />
						<prime:treeNode>
							<h:outputText value="#{node}" />
						</prime:treeNode>
					</prime:tree>
				</b:column>
				<b:column span="9">

					<!-- 			<prime:contextMenu for="carsId"> -->
					<!-- 				<prime:menuitem value="View" update="@form" icon="ui-icon-search" -->
					<!-- 					oncomplete="PF('carDialog').show()" /> -->
					<!-- 				<prime:menuitem value="Delete" icon="ui-icon-close" update="@form" -->
					<!-- 					actionListener="#{dtContextMenuView.deleteCar}" /> -->
					<!-- 			</prime:contextMenu> -->
					<b:panel rendered="#{batchViewHandler.showGeneral}">
						<prime:dataTable value="#{batchViewHandler.generalBatchInfoList}"
							var="batch" id="gbId" rowKey="#{batch.id}" paginator="true"
							rows="10">
							<prime:column id="batchId" headerText="Batch ID">#{batch.id}</prime:column>
							<prime:column id="typeId" headerText="Type">#{batch.type}</prime:column>
							<prime:column id="nameId" headerText="Name">#{batch.name}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('gbId')}"
							update="gbId"></prime:commandButton>
					</b:panel>
					<!-- WA MESSAGE POOL -->
					<b:panel rendered="#{batchViewHandler.showMessagePool}">
						<prime:dataTable value="#{batchViewHandler.messagePoolBatchList}"
							var="waPool" id="waPoolId" rowKey="#{waPool.poolDate}" paginator="true"
							rows="10">
							<prime:column id="waPoolDate" headerText="Date">
								<h:outputText value="#{waPool.date}">
									<f:convertDateTime pattern="dd-MM-yyyy" />
								</h:outputText>
							</prime:column>
							<prime:column id="waPoolPlanData" headerText="Total Plan Pool Data">#{waPool.totalPlanPool}</prime:column>
							<prime:column id="waPoolActualData" headerText="Total Actual Pool Data">#{waPool.totalActualPool}</prime:column>
							<prime:column id="waPoolDevData" headerText="Deviation Pool Data">#{waPool.deviationData}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('waPoolId')}"
							update="waPoolId"></prime:commandButton>
					</b:panel>
					<!-- WA MESSAGE SEND TEMPLATE -->
					<b:panel rendered="#{batchViewHandler.showMessageSendTemplate}">
						<prime:dataTable value="#{batchViewHandler.journalQueueList}"
							var="journal" id="waSendTemplateId" rowKey="#{journal.id}" paginator="true"
							rows="10">
							<prime:columnGroup type="header">
								<prime:row>
									<prime:column rowspan="2" headerText="Date"/>
									<prime:column rowspan="2" headerText="Total Plan Send Template Data"/>
									<prime:column rowspan="2" headerText="Total Actual Send Template Data"/>
									<prime:column colspan="3" headerText="Status Actual Send Template"/>
									<prime:column rowspan="2" headerText="Deviation Pool Data"/>
								</prime:row>
								<prime:row>
									<prime:column headerText="Pending Enroute"/>
									<prime:column headerText="Reject"/>
									<prime:column headerText="Error"/>
								</prime:row>
							</prime:columnGroup>
							<prime:column id="waSendTemplateDate">
								<h:outputText value="20-04-2020">
									<f:convertDateTime pattern="dd-MM-yyyy" />
								</h:outputText>
							</prime:column>
							<prime:column id="waSendTemplatePlanData">200</prime:column>
							<prime:column id="waSendTemplateActualData">140</prime:column>
							<prime:column id="waPendingEnroute">20</prime:column>
							<prime:column id="waRreject">20</prime:column>
							<prime:column id="waError">20</prime:column>
							<prime:column id="waSendTemplateDevData">60</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('jId')}"
							update="jId"></prime:commandButton>
					</b:panel>
					<!-- WA OTP -->
					<b:panel rendered="#{batchViewHandler.showMessageOTP}">
						<prime:dataTable value="#{batchViewHandler.messageOtpBatchList}"
							var="waOtp" id="waOtpId" rowKey="#{journal.id}" paginator="true"
							rows="10">
							<prime:column id="waOtpDate" headerText="Date">
								<h:outputText value="#{waOtp.date}">
									<f:convertDateTime pattern="dd-MM-yyyy" />
								</h:outputText>
							</prime:column>
							<prime:column id="waOtpSuccess" headerText="OTP Success">#{waOtp.otpSuccess}</prime:column>
							<prime:column id="waOtpFailed" headerText="OTP Failed">#{waOtp.otpFailed}</prime:column>
							<prime:column id="waOtpObsolete" headerText="OTP Obsolete">#{waOtp.otpObsolete}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('waOtpId')}"
							update="waOtpId"></prime:commandButton>
					</b:panel>
					<b:panel rendered="#{batchViewHandler.showJournal}">
						<prime:dataTable value="#{batchViewHandler.journalQueueList}"
							var="journal" id="jId" rowKey="#{journal.id}" paginator="true"
							rows="10">
							<prime:column id="jjournalId" headerText="ID">#{journal.id}</prime:column>
							<prime:column id="jretry" headerText="Retry">#{journal.retry}</prime:column>
							<prime:column id="jref" headerText="Reference ID">#{journal.refId}</prime:column>
							<prime:column id="jmodule" headerText="Module">#{journal.module}</prime:column>
							<prime:column id="jcreateBy" headerText="Create By">#{journal.createBy}</prime:column>
							<prime:column id="jcreateDate" headerText="Create Date">
								<h:outputText value="#{journal.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="jprior" headerText="Priority">#{journal.priority}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('jId')}"
							update="jId"></prime:commandButton>
					</b:panel>
					<b:panel rendered="#{batchViewHandler.showMDBatch}">
						<prime:dataTable value="#{batchViewHandler.dmBatchList}" var="dm"
							id="dmId" rowKey="#{dm.id}" paginator="true" rows="10">
							<prime:column id="dmId" headerText="Batch ID">#{dm.id}</prime:column>
							<prime:column id="description" headerText="Batch Name">#{dm.description}</prime:column>
							<prime:column id="sequence" headerText="Sequence">#{dm.sequence}</prime:column>
							<prime:column id="start" headerText="Hour Start">#{dm.start}</prime:column>
							<prime:column id="end" headerText="Hour End">#{dm.end}</prime:column>
							<prime:column id="dateExec" headerText="Execution Date">
								<h:outputText value="#{dm.dateExecution}" />
							</prime:column>
							<prime:column id="execStart" headerText="Execution Start">
								<h:outputText value="#{dm.executionStart}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="execEnd" headerText="Execution End">
								<h:outputText value="#{dm.executionEnd}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="executionInfo" headerText="Status">#{dm.information}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('dmId')}"
							update="dmId"></prime:commandButton>
					</b:panel>
					<b:panel rendered="#{batchViewHandler.showSynch}">
						<prime:dataTable value="#{batchViewHandler.synchBatchList}"
							var="s" id="sId" rowKey="#{s.batchCode}" paginator="true"
							rows="10">
							<prime:column id="bacthCode" headerText="Batch Code">#{s.batchCode}</prime:column>
							<prime:column id="execDate" headerText="Execution Date">
								<h:outputText value="#{s.executionDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="lookupNarative" headerText="Narative">#{s.lookupNarrative}</prime:column>
							<prime:column id="statementId" headerText="Statement Id">#{s.statementId}</prime:column>
							<prime:column id="statement" headerText="Statement">#{s.statementText}</prime:column>
							<prime:column id="sprior" headerText="Priority">#{s.priority}</prime:column>
							<prime:column id="sretry" headerText="Retry">#{s.retry}</prime:column>
							<prime:column id="screateBy" headerText="Create By">#{s.createBy}</prime:column>
							<prime:column id="screateDate" headerText="Create Date">
								<h:outputText value="#{s.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('sId')}"
							update="sId"></prime:commandButton>
					</b:panel>
					<b:panel rendered="#{batchViewHandler.showNotifMColl}">
						<prime:dataTable value="#{batchViewHandler.mCollNotifBatchList}"
							var="mcoll" id="mcollId" rowKey="#{mcoll.id}" paginator="true"
							rows="10">
							<prime:column id="facilityNo" headerText="Facility No">#{mcoll.facilityNo}</prime:column>
							<prime:column id="customerName" headerText="Customer Name">#{mcoll.customerName}</prime:column>
							<prime:column id="activity" headerText="Activity">#{mcoll.activity}</prime:column>
							<prime:column id="activityDate" headerText="Activity Date">
								<h:outputText value="#{mcoll.activityDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="description" headerText="Description">#{mcoll.description}</prime:column>
							<prime:column id="mcprior" headerText="Priority">#{mcoll.priority}</prime:column>
							<prime:column id="mcretry" headerText="Retry">#{mcoll.retry}</prime:column>
							<prime:column id="mccreateBy" headerText="Create By">#{mcoll.createBy}</prime:column>
							<prime:column id="mcreateDate" headerText="Create Date">
								<h:outputText value="#{mcoll.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('mcollId')}"
							update="mcollId"></prime:commandButton>
					</b:panel>
					<b:panel rendered="#{batchViewHandler.showNotifMPos}">
						<prime:dataTable value="#{batchViewHandler.mPosNotifBatchList}"
							var="mpos" id="mposId" rowKey="#{mpos.id}" paginator="true"
							rows="10">
							<prime:column id="userId" headerText="User Id">#{mpos.fidUser}</prime:column>
							<prime:column id="parameter" headerText="Parameter">#{mpos.parameter}</prime:column>
							<prime:column id="text" headerText="Text">#{mpos.text}</prime:column>
							<prime:column id="title" headerText="Title">
								<h:outputText value="#{mpos.title}" />
							</prime:column>
							<prime:column id="actionType" headerText="Action Type">#{mpos.actionType}</prime:column>
							<prime:column id="mpprior" headerText="Priority">#{mpos.priority}</prime:column>
							<prime:column id="mpretry" headerText="Retry">#{mpos.retry}</prime:column>
							<prime:column id="mpcreateBy" headerText="Create By">#{mpos.createBy}</prime:column>
							<prime:column id="mpreateDate" headerText="Create Date">
								<h:outputText value="#{mpos.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Update Column"
							actionListener="#{batchViewHandler.refreshBatchInfo('mposId')}"
							update="mposId"></prime:commandButton>
					</b:panel>
				</b:column>
			</b:row>
<!-- 			<prime:blockUI block="formID" trigger="treeBatch" /> -->
			<prime:blockUI block="formID" trigger="treeBatch" >
        LOADING<br />
				<prime:graphicImage name="demo/images/ajaxloadingbar.gif" />
			</prime:blockUI>

		</h:form>
	</b:container>
</body>
</html>
