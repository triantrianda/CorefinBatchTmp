<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:prime="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<h:head>
<title>:: MBF IT | CorefinBatch - FUJITSU INDONESIA ::</title>
	<style>
.nav-tabs>li.active>a, .nav-tabs>li.active>a:hover, .nav-tabs>li.active>a:focus
	{
	background-color: #ddd !important;
}

table {
	font-size: 12px;
}

</style>
<!-- <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/style/common.css"/> -->
</h:head>
<body>
	<b:navBar brand="COREFIN BATCH" brandHref="index.jsf" inverse="true"
		fixed="true">
		<b:navLink value="About"
			pt:onclick="$('.aboutModalPseudoClass').modal('show');return false;"></b:navLink>
	</b:navBar>
	<b:container>
		<h:form id="formID">

			<b:modal id="aboutModal" title="About"
				styleClass="aboutModalPseudoClass">
				<b:panel>
       			     This is prototype of Batch Monitoring
   			     </b:panel>
			</b:modal>

			<b:row>
				<b:column span="3">
					<prime:tree value="#{batchBasicView.root}" var="node"
						dynamic="true" style="border:0px" selectionMode="single"
						selection="#{batchViewHandler.selectedNode}" id="treeBatch">
						<prime:ajax event="select" update="@form"
							listener="#{batchViewHandler.onNodeSelect}" />
						<prime:treeNode>
							<h:outputText value="#{node}" />
						</prime:treeNode>
					</prime:tree>
				</b:column>
				<b:column span="9">

					<!-- 			<prime:contextMenu for="carsId"> -->
					<!-- 				<prime:menuitem value="View" update="@form" icon="ui-icon-search" -->
					<!-- 					oncomplete="PF('carDialog').show()" /> -->
					<!-- 				<prime:menuitem value="Delete" icon="ui-icon-close" update="@form" -->
					<!-- 					actionListener="#{dtContextMenuView.deleteCar}" /> -->
					<!-- 			</prime:contextMenu> -->
					<b:panel rendered="#{batchViewHandler.showGeneral}">
						<prime:dataTable value="#{batchViewHandler.generalBatchInfoList}"
							var="batch" id="gbId" rowKey="#{batch.id}" paginator="true"
							rows="10">
							<prime:column id="batchId" headerText="Batch ID">#{batch.id}</prime:column>
							<prime:column id="typeId" headerText="Type">#{batch.type}</prime:column>
							<prime:column id="nameId" headerText="Name">#{batch.name}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"
							actionListener="#{batchViewHandler.refreshBatchInfo('gbId')}"
							update="gbId"></prime:commandButton>
					</b:panel>
					<!-- WA MESSAGE POOL -->
					<b:panel rendered="#{batchViewHandler.showMessagePool}">
						<prime:dataTable value="#{batchViewHandler.messagePoolBatchList}"
							var="waPool" id="waPoolId" rowKey="#{waPool.poolDate}" paginator="true"
							rows="10">
							<prime:column id="waPoolDate" headerText="Date">
								<h:outputText value="#{waPool.date}">
									<f:convertDateTime pattern="dd-MM-yyyy" />
								</h:outputText>
							</prime:column>
							<prime:column id="waPoolPlanData" headerText="Total Plan Pool Data">#{waPool.totalPlanPool}</prime:column>
							<prime:column id="waPoolActualData" headerText="Total Actual Pool Data">#{waPool.totalActualPool}</prime:column>
							<prime:column id="waPoolDevData" headerText="Deviation Pool Data">#{waPool.deviationData}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh"  id="refreshWaPool"
							actionListener="#{batchViewHandler.refreshBatchInfo('refWaPool')}"
							update="waPoolId"></prime:commandButton>
					</b:panel>
					<!-- WA MESSAGE SEND TEMPLATE -->
					<b:panel rendered="#{batchViewHandler.showMessageSendTemplate}">
						<prime:dataTable value="#{batchViewHandler.messageSendTemplateBatchList}"
							var="waSend" id="waSendTemplateId" rowKey="#{waSend.date}" paginator="true"
							rows="10">
							<prime:columnGroup type="header">
								<prime:row>
									<prime:column rowspan="2" headerText="Date"/>
									<prime:column rowspan="2" headerText="Total Plan Send Template Data"/>
									<prime:column rowspan="2" headerText="Total Actual Send Template Data"/>
									<prime:column colspan="3" headerText="Status Actual Send Template"/>
									<prime:column rowspan="2" headerText="Deviation Pool Data"/>
								</prime:row>
								<prime:row>
									<prime:column headerText="Pending Enroute"/>
									<prime:column headerText="Reject"/>
									<prime:column headerText="Error"/>
								</prime:row>
							</prime:columnGroup>
							<prime:column id="waSendTemplateDate">
								<h:outputText value="#{waSend.date}">
									<f:convertDateTime pattern="dd-MM-yyyy" />
								</h:outputText>
							</prime:column>
							<prime:column id="waSendTemplatePlanData">#{waSend.totalPlanSendTemplate}</prime:column>
							<prime:column id="waSendTemplateActualData">#{waSend.totalActualSendTemplate}</prime:column>
							<prime:column id="waPendingEnroute">#{waSend.pendingEnroute}</prime:column>
							<prime:column id="waReject">#{waSend.reject}</prime:column>
							<prime:column id="waError">#{waSend.error}</prime:column>
							<prime:column id="waSendTemplateDevData">#{waSend.deviationData}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh" id="refreshWaSend"
							actionListener="#{batchViewHandler.refreshBatchInfo('refWaSendTemplate')}"
							update="waSendTemplateId"></prime:commandButton>
					</b:panel>
					<!-- WA OTP -->
					<b:panel rendered="#{batchViewHandler.showMessageOTP}">
						<prime:dataTable value="#{batchViewHandler.messageOtpBatchList}"
							var="waOtp" id="waOtpId" rowKey="#{journal.id}" paginator="true"
							rows="10">
							<prime:column id="waOtpDate" headerText="Date">
								<h:outputText value="#{waOtp.date}">
									<f:convertDateTime pattern="dd-MM-yyyy" />
								</h:outputText>
							</prime:column>
							<prime:column id="waOtpSuccess" headerText="OTP Success">#{waOtp.otpSuccess}</prime:column>
							<prime:column id="waOtpFailed" headerText="OTP Failed">#{waOtp.otpFailed}</prime:column>
							<prime:column id="waOtpObsolete" headerText="OTP Obsolete">#{waOtp.otpObsolete}</prime:column>
						</prime:dataTable>
						<prime:commandButton value="Refresh" id="refWaOtp"
							actionListener="#{batchViewHandler.refreshBatchInfo('refWaOtp')}"
							update="waOtpId"></prime:commandButton>
					</b:panel>
					<!-- add pak mario -->
					<b:panel rendered="#{batchViewHandler.showJournal}">	
						 <b:accordion>
						 	<b:panel id="search" title="Search">
								<h:panelGroup id="panelSearch" styleClass="fieldPackage" style="display: block">
									<h:panelGrid columns="1" cellspacing="15" columnClasses="vmid,vmid">
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:80px" value="Search By" for="searchParam"/>
											<prime:selectOneMenu id="searchParam" value="#{batchViewHandler.selectedSearchType}">
												<prime:ajax event="change" update="panelSearch" 
													listener="#{batchViewHandler.changeParamSearch}" />
												<f:selectItem itemLabel="Module" itemValue="Module"/>
												<f:selectItem itemLabel="Reference Id" itemValue="RefId"/>
											</prime:selectOneMenu>
										</h:panelGrid>
									</h:panelGrid>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup>
										<h:panelGroup id="searchByModule" rendered="#{batchViewHandler.searchByModule}">
										<h:panelGrid columns="1" columnClasses="vmidleft,vmid">
											<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
												<prime:outputLabel style="width:80px" for="moduleJ" value="Module"/>
												<prime:selectOneMenu id="moduleJ" value="#{batchViewHandler.moduleJ}">
													<f:selectItem itemValue="" itemLabel="Select One"/>
													<f:selectItems value="#{batchViewHandler.batchMonitoringService.listOfModule}"/>
												</prime:selectOneMenu>
											</h:panelGrid>
										</h:panelGrid>
										<prime:spacer height="10" width="2"/>
										<h:panelGrid columns="3" columnClasses="vmidleft,vmidright" cellpadding="10">
							 				<h:panelGrid columns="3" columnClasses="vmidleft,vmid">
							 					<prime:outputLabel style="width:80px" for="dateFrom" value="Date From"/>
												<prime:calendar id="dateFrom" value="#{batchViewHandler.date1}" pattern="yyyy/MM/dd" required="true" />
												<prime:message for="dateFrom" display="icon" />
							 				</h:panelGrid>	
							 				<prime:spacer width="4"/>
							 				<h:panelGrid columns="3" columnClasses="right,vmid">
												<prime:outputLabel style="width:30px" for="dateTo" value="To"/>
												<prime:calendar id="dateTo" value="#{batchViewHandler.date2}" pattern="yyyy/MM/dd" required="true" />
												<prime:message for="dateTo" display="icon" />
											</h:panelGrid>	
										</h:panelGrid>
										</h:panelGroup>
										<h:panelGroup id="searchByRefId" rendered="#{batchViewHandler.searchByRefId}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="refId" value="Ref Id"/>
												<prime:inputText id="refId" value="#{batchViewHandler.refId}" required="true"/>
												<prime:message for="refId" display="icon" />
											</h:panelGrid>
										</h:panelGroup>
									</h:panelGroup>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup styleClass="fieldPackage" style="width: 215px"
										layout="block">
										<prime:commandButton value="Search" title="Search"
											actionListener="#{batchViewHandler.buttonAction}"
											id="btnSearchJ" update="jId" style="margin-right:20px;" />
									</h:panelGroup>
									<b:message for="dateFrom" autoUpdate="true" />
									<b:message for="dateTo" autoUpdate="true" />
									<b:message for="refId" autoUpdate="true"/>
								</h:panelGroup>
							</b:panel>
						</b:accordion>
					
						<prime:dataTable value="#{batchViewHandler.glJournalQueueList}" tableStyle="width:1185px"
							var="journal" id="jId" rowKey="#{journal.id}" paginator="true" rows="10" 
							currentPageReportTemplate="Showing {startRecord}-{endRecord} of {totalRecords}"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							paginatorPosition="bottom" rowIndexVar="index">
							
							<prime:column headerText="NO" style="width:40px">
								<h:outputText value="#{index+1}"></h:outputText>
							</prime:column>
							<prime:column id="jretry" headerText="Retry" style="width:50px">#{journal.retry}</prime:column>
							<prime:column id="jref" headerText="Reference ID" sortBy="#{journal.refId}" style="width:140px">#{journal.refId}</prime:column>
							<prime:column id="jmodule" headerText="Module" style="width:65px">#{journal.module}</prime:column>
							<prime:column id="jmaker" headerText="Maker" style="width:125px">#{journal.maker}</prime:column>
							<prime:column id="jchecker" headerText="Checker" style="width:125px">#{journal.checker}</prime:column>
							<prime:column id="jcreateBy" headerText="Create By" style="width:125px">#{journal.createBy}</prime:column>
							<prime:column id="jcreateDate" headerText="Create Date" sortBy="#{journal.createDate}" style="width:140px">
								<h:outputText value="#{journal.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="jlastUpdateBy" headerText="Last Update By" style="width:125px">#{journal.lastUpdateBy}</prime:column>
							<prime:column id="jlastUpdateDate" headerText="Last Update Date" style="width:140px">
								<h:outputText value="#{journal.lastUpdateDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="jstatus" headerText="Status" style="width:60px">#{journal.status}</prime:column>
							<prime:column id="jprior" headerText="Priority" style="width:60px">#{journal.priority}</prime:column>
						</prime:dataTable>
					</b:panel>
					
					<b:panel rendered="#{batchViewHandler.showJournalArchive}">
						<b:accordion>
						 	<b:panel id="searchJA" title="Search">
						 		<h:panelGroup id="panelSearchArc" styleClass="fieldPackage" style="display: block">
						 			<h:panelGrid columns="1" cellspacing="15" columnClasses="vmid,vmid">
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:80px" value="Search By" for="searchParamArc"/>
											<prime:selectOneMenu id="searchParamArc" value="#{batchViewHandler.selectedSearchType}">
												<prime:ajax event="change" update="panelSearchArc" 
													listener="#{batchViewHandler.changeParamSearch}" />
												<f:selectItem itemLabel="Module" itemValue="Module"/>
												<f:selectItem itemLabel="Reference Id" itemValue="RefId"/>
												<f:selectItem itemLabel="Journal Id" itemValue="JournalId"/>
											</prime:selectOneMenu>
										</h:panelGrid>
									</h:panelGrid>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup>
										<h:panelGroup id="searchArcByModule" rendered="#{batchViewHandler.searchByModule}">
							 			<h:panelGrid id="gridJA" columns="1" columnClasses="vtop,vmid,vmid">
								 			<h:panelGrid columns="2">
								 				<prime:outputLabel style="width:80px" for="moduleJA" value="Module" />
												<prime:selectOneMenu id="moduleJA" value="#{batchViewHandler.moduleJA}" style="width:125px">
													<f:selectItem itemLabel="Select One" itemValue="" />
													<f:selectItems value="#{batchViewHandler.batchMonitoringService.listOfModule}"/>
												</prime:selectOneMenu>
								 			</h:panelGrid>
								 			<prime:spacer height="10" width="2"/>
								 			<h:panelGrid columns="3">
								 				<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
								 					<prime:outputLabel style="width:80px" for="dateFromJA" value="Date From" />
													<prime:calendar id="dateFromJA" value="#{batchViewHandler.date1JA}" pattern="yyyy/MM/dd" required="true" />
													<!-- <prime:message for="dateFromJA" display="icon" /> -->
								 				</h:panelGrid>
								 				<prime:spacer width="4"/>
												<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
													<prime:outputLabel style="width:30px" for="dateToJA" value="To" />
													<prime:calendar id="dateToJA" value="#{batchViewHandler.date2JA}" pattern="yyyy/MM/dd" required="true" />
													<!-- <prime:message for="dateToJA" display="icon" /> -->
												</h:panelGrid>
								 			</h:panelGrid>
							 			</h:panelGrid>
							 			</h:panelGroup>
							 			<h:panelGroup id="searchArcByRefId" rendered="#{batchViewHandler.searchByRefId}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="arcRefId" value="Ref Id"/>
												<prime:inputText id="arcRefId" value="#{batchViewHandler.refId}" required="true"/>
												<prime:message for="arcRefId" display="icon" />
											</h:panelGrid>
										</h:panelGroup>
										<h:panelGroup id="searchArcByJournalId" rendered="#{batchViewHandler.searchByJournalId}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="arcJournalId" value="Journal Id"/>
												<prime:inputText id="arcJournalId" value="#{batchViewHandler.journalId}" required="true"/>
												<prime:message for="arcJournalId" display="icon" />
											</h:panelGrid>
										</h:panelGroup>
						 			</h:panelGroup>

								<prime:spacer width="20px" />
								
								<h:panelGroup styleClass="fieldPackage" style="width: 215px" layout="block">
									<prime:commandButton value="Search" title="Search" actionListener="#{batchViewHandler.buttonActionJA}" id="btnSearchJA" update="jAId" style="margin-right:20px;" />
								</h:panelGroup>
								
								<b:message for="dateFromJA" autoUpdate="true"/>
								<b:message for="dateToJA" autoUpdate="true"/>
								<b:message for="arcRefId" autoUpdate="true"/>
								<b:message for="arcJournalId" autoUpdate="true"/>
								</h:panelGroup>
						 	</b:panel>
						</b:accordion>
						
						<prime:dataTable value="#{batchViewHandler.glJournalQueueArchiveList}" tableStyle="width:1340px"
							var="journalArchive" id="jAId" rowKey="#{journal.id}" paginator="true" rows="10" 
							currentPageReportTemplate="Showing {startRecord}-{endRecord} of {totalRecords}"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							paginatorPosition="bottom" rowIndexVar="index">

							<prime:column headerText="NO" style="width:40px">
								<h:outputText value="#{index+1}"></h:outputText>
							</prime:column>
							<prime:column id="jretry" headerText="Retry" style="width:50px">#{journalArchive.retry}</prime:column>
							<prime:column id="jref" headerText="Reference ID" sortBy="#{journalArchive.refId}" style="width:140px">#{journalArchive.refId}</prime:column>
							<prime:column id="jmodule" headerText="Module" style="width:65px">#{journalArchive.module}</prime:column>
							<prime:column id="jmaker" headerText="Maker" style="width:125px">#{journalArchive.maker}</prime:column>
							<prime:column id="jchecker" headerText="Checker" style="width:125px">#{journalArchive.checker}</prime:column>
							<prime:column id="jcreateBy" headerText="Create By" style="width:125px">#{journalArchive.createBy}</prime:column>
							<prime:column id="jcreateDate" headerText="Create Date" sortBy="#{journalArchive.createDate}" style="width:140px">
								<h:outputText value="#{journalArchive.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="jlastUpdateBy" headerText="Last Update By" style="width:125px">#{journalArchive.lastUpdateBy}</prime:column>
							<prime:column id="jlastUpdateDate" headerText="Last Update Date" sortBy="#{journalArchive.lastUpdateDate}" style="width:140px">
								<h:outputText value="#{journalArchive.lastUpdateDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="jProcessDate" headerText="Process Date" sortBy="#{journalArchive.processDate}" style="width:140px">
								<h:outputText value="#{journalArchive.processDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss" />
								</h:outputText>
							</prime:column>
							<prime:column id="jFidJournal" headerText="FID Journal" style="width:140px">#{journalArchive.fIdJournal}</prime:column>
						</prime:dataTable>
					</b:panel>
					<!-- end add -->
					
					<!-- add mobile sync -->
					<b:panel rendered="#{batchViewHandler.showMobileSync}">
						<b:accordion>
							<b:panel id="pnlSearchMobSync" title="Search">
								<h:panelGroup id="searchMobSync" styleClass="fieldPackage" style="display: block">
									<h:panelGrid columns="1" cellspacing="15" columnClasses="vmid,vmid">
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:80px" value="Search By" for="searchParamMSync"/>
											<prime:selectOneMenu id="searchParamMSync" value="#{batchViewHandler.selectedSearchType}">
												<prime:ajax event="change" update="searchMobSync" 
													listener="#{batchViewHandler.changeParamSearch}" />
												<f:selectItem itemLabel="Execution Date" itemValue="Module"/>
												<f:selectItem itemLabel="Statement Text" itemValue="StatementText"/>
											</prime:selectOneMenu>
										</h:panelGrid>
									</h:panelGrid>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup id="searchByExecDate" rendered="#{batchViewHandler.searchByModule}">
									<h:panelGrid columns="3">
								 		<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
								 			<prime:outputLabel style="width:80px" for="dateFromMSync" value="Date From" />
											<prime:calendar id="dateFromMSync" value="#{batchViewHandler.date1}" pattern="yyyy/MM/dd" required="true" />
								 			</h:panelGrid>
								 			<prime:spacer width="4"/>
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:30px" for="dateToMSync" value="To" />
											<prime:calendar id="dateToMSync" value="#{batchViewHandler.date2}" pattern="yyyy/MM/dd" required="true" />
											</h:panelGrid>
								 		</h:panelGrid>
								 	</h:panelGroup>
								 	<h:panelGroup id="searchByStatementText" rendered="#{batchViewHandler.searchByStatementText}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="statementText" value="Statement Text"/>
												<prime:inputTextarea id="statementText" value="#{batchViewHandler.refId}" required="true"/>
												<prime:message for="statementText" display="icon" />
											</h:panelGrid>
										</h:panelGroup>
								<prime:spacer width="20px" />
								<h:panelGroup styleClass="fieldPackage" style="width: 215px" layout="block">
									<prime:commandButton value="Search" title="Search" actionListener="#{batchViewHandler.search}" id="btnSearchMSync" update="dtMobileSync" style="margin-right:20px;">
										<f:param name="searchParam" value="MobileSync"></f:param>
									</prime:commandButton>
								</h:panelGroup>
								<b:message for="statementText" autoUpdate="true" />
								<b:message for="dateFromMSync" autoUpdate="true" />
								<b:message for="dateToMSync" autoUpdate="true" />
								</h:panelGroup>
							</b:panel>
						</b:accordion>
						<prime:dataTable value="#{batchViewHandler.mobileSyncList}" tableStyle="width:1185px" resizableColumns="false"
							scrollable="false" scrollHeight="300"
							var="mobileSync" id="dtMobileSync" rowKey="#{mobileSync.id}" paginator="true" rows="10" 
							currentPageReportTemplate="Showing {startRecord}-{endRecord} of {totalRecords}"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							paginatorPosition="bottom" rowIndexVar="index">
							
							<prime:column headerText="No" style="width:30px">
								<h:outputText value="#{index+1}"></h:outputText>
							</prime:column>
							<prime:column id="mBatchCode" headerText="Batch Code" style="width:190px">#{mobileSync.batchCode}</prime:column>
							<prime:column id="mExecDate" headerText="Execution Date" style="width:120px">
								<h:outputText value="#{mobileSync.dateFromExecutionDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column id="mRunningStatus" headerText="Running Status" style="width:80px">#{mobileSync.runningStatus}</prime:column>
							<prime:column id="mLookup" headerText="Lookup Narrative" style="width:125px">#{mobileSync.lookupNarrative}</prime:column>
							<prime:column id="mStatementId" headerText="Statement Id" style="width:75px">#{mobileSync.statementId}</prime:column>
							<prime:column id="mStatementText" headerText="Statement Text" style="width:1000px">#{mobileSync.statementText}</prime:column>
							<prime:column id="mStatus" headerText="Status" style="width:60px">#{mobileSync.status}</prime:column>
							<prime:column id="mPriority" headerText="Priority" style="width:60px">#{mobileSync.priority}</prime:column>
							<prime:column id="mRetry" headerText="Retry" style="width:60px">#{mobileSync.retry}</prime:column>
							<prime:column id="mCreateBy" headerText="Create By" style="width:60px">#{mobileSync.createBy}</prime:column>
							<prime:column id="mCreateDate" headerText="Create Date" style="width:100px">
								<h:outputText value="#{mobileSync.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column id="mResponse" headerText="Response" style="width:80px">#{mobileSync.response}</prime:column>
							<prime:column id="mResponseStatus" headerText="Response Status" style="width:80px">#{mobileSync.priority}</prime:column>
						</prime:dataTable>
					</b:panel>	
					
					<!-- add mobile sync archive-->
					<b:panel rendered="#{batchViewHandler.showMobileSyncArchive}">
						<b:accordion>
							<b:panel id="pnlSearchMobSyncArc" title="Search">
								<h:panelGroup id="searchMobSyncArc" styleClass="fieldPackage" style="display: block">
									<h:panelGrid columns="1" cellspacing="15" columnClasses="vmid,vmid">
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:80px" value="Search By" for="searchParamMSyncArc"/>
											<prime:selectOneMenu id="searchParamMSyncArc" value="#{batchViewHandler.selectedSearchType}">
												<prime:ajax event="change" update="searchMobSyncArc" 
													listener="#{batchViewHandler.changeParamSearch}" />
												<f:selectItem itemLabel="Execution Date" itemValue="Module"/>
												<f:selectItem itemLabel="Statement Text" itemValue="StatementText"/>
											</prime:selectOneMenu>
										</h:panelGrid>
									</h:panelGrid>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup rendered="#{batchViewHandler.searchByModule}">
									<h:panelGrid columns="3">
								 		<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
								 			<prime:outputLabel style="width:80px" for="dateFromMSyncArc" value="Date From" />
											<prime:calendar id="dateFromMSyncArc" value="#{batchViewHandler.date1}" pattern="yyyy/MM/dd" required="true" />
								 			</h:panelGrid>
								 			<prime:spacer width="4"/>
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:30px" for="dateToMSyncArc" value="To" />
											<prime:calendar id="dateToMSyncArc" value="#{batchViewHandler.date2}" pattern="yyyy/MM/dd" required="true" />
											</h:panelGrid>
								 		</h:panelGrid>
								 	</h:panelGroup>
								 	<h:panelGroup rendered="#{batchViewHandler.searchByStatementText}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="statementTextArc" value="Statement Text"/>
												<prime:inputTextarea id="statementTextArc" value="#{batchViewHandler.refId}" required="true"/>
												<prime:message for="statementText" display="icon" />
											</h:panelGrid>
										</h:panelGroup>
								<prime:spacer width="20px" />
								<h:panelGroup styleClass="fieldPackage" style="width: 215px" layout="block">
									<prime:commandButton value="Search" title="Search" actionListener="#{batchViewHandler.search}" id="btnSearchMSyncArc" update="dtMobileSyncArc" style="margin-right:20px;">
										<f:param name="searchParam" value="MobileSyncArchive"></f:param>
									</prime:commandButton>
								</h:panelGroup>
								<b:message for="statementTextArc" autoUpdate="true" />
								<b:message for="dateFromMSyncArc" autoUpdate="true" />
								<b:message for="dateToMSyncArc" autoUpdate="true" />
								</h:panelGroup>
							</b:panel>
						</b:accordion>
						<prime:dataTable value="#{batchViewHandler.mobileSyncArchiveList}" tableStyle="width:1185px" resizableColumns="false"
							scrollable="false" scrollHeight="300"
							var="mobileSyncArc" id="dtMobileSyncArc" rowKey="#{mobileSync.id}" paginator="true" rows="10" 
							currentPageReportTemplate="Showing {startRecord}-{endRecord} of {totalRecords}"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							paginatorPosition="bottom" rowIndexVar="index">
							
							<prime:column headerText="No" style="width:30px">
								<h:outputText value="#{index+1}"></h:outputText>
							</prime:column>
							<prime:column id="mBatchCode" headerText="Batch Code" style="width:190px">#{mobileSyncArc.batchCode}</prime:column>
							<prime:column id="mExecDate" headerText="Execution Date" style="width:120px">
								<h:outputText value="#{mobileSyncArc.dateFromExecutionDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column id="mRunningStatus" headerText="Running Status" style="width:80px">#{mobileSyncArc.runningStatus}</prime:column>
							<prime:column id="mLookup" headerText="Lookup Narrative" style="width:125px">#{mobileSyncArc.lookupNarrative}</prime:column>
							<prime:column id="mStatementId" headerText="Statement Id" style="width:75px">#{mobileSyncArc.statementId}</prime:column>
							<prime:column id="mStatementText" headerText="Statement Text" style="width:1000px">#{mobileSyncArc.statementText}</prime:column>
							<prime:column id="mStatus" headerText="Status" style="width:60px">#{mobileSyncArc.status}</prime:column>
							<prime:column id="mPriority" headerText="Priority" style="width:60px">#{mobileSyncArc.priority}</prime:column>
							<prime:column id="mRetry" headerText="Retry" style="width:60px">#{mobileSyncArc.retry}</prime:column>
							<prime:column id="mProcessDate" headerText="Process Date" style="width:100px">
								<h:outputText value="#{mobileSyncArc.processedDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column id="mCreateBy" headerText="Create By" style="width:60px">#{mobileSyncArc.createBy}</prime:column>
							<prime:column id="mCreateDate" headerText="Create Date" style="width:100px">
								<h:outputText value="#{mobileSyncArc.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column id="mResponse" headerText="Response" style="width:80px">#{mobileSyncArc.response}</prime:column>
							<prime:column id="mResponseStatus" headerText="Response Status" style="width:80px">#{mobileSyncArc.priority}</prime:column>
						</prime:dataTable>
					</b:panel>	
					
					<!-- add mobile notification-->
					<b:panel rendered="#{batchViewHandler.showMobileNotif}">
						<b:accordion>
							<b:panel id="pnlSearchMobNotif" title="Search">
								<h:panelGroup id="searchMobNotif" styleClass="fieldPackage" style="display: block">
									<h:panelGrid columns="1" cellspacing="15" columnClasses="vmid,vmid">
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:80px" value="Search By" for="searchParamMNotif"/>
											<prime:selectOneMenu id="searchParamMNotif" value="#{batchViewHandler.selectedSearchType}">
												<prime:ajax event="change" update="searchMobNotif" 
													listener="#{batchViewHandler.changeParamSearch}" />
												<f:selectItem itemLabel="Date" itemValue="Module"/>
												<f:selectItem itemLabel="Parameter" itemValue="Parameter"/>
											</prime:selectOneMenu>
										</h:panelGrid>
									</h:panelGrid>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup rendered="#{batchViewHandler.searchByModule}">
									<h:panelGrid columns="3">
								 		<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
								 			<prime:outputLabel style="width:80px" for="dateFromMNotif" value="Date From" />
											<prime:calendar id="dateFromMNotif" value="#{batchViewHandler.date1}" pattern="yyyy/MM/dd" required="true" />
								 			</h:panelGrid>
								 			<prime:spacer width="4"/>
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:30px" for="dateToMNotif" value="To" />
											<prime:calendar id="dateToMNotif" value="#{batchViewHandler.date2}" pattern="yyyy/MM/dd" required="true" />
											</h:panelGrid>
								 		</h:panelGrid>
								 	</h:panelGroup>
								 	<h:panelGroup rendered="#{batchViewHandler.searchByParameter}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="parameter" value="Parameter"/>
												<prime:inputText id="parameter" value="#{batchViewHandler.refId}" required="true"/>
												<prime:message for="parameter" display="icon" />
											</h:panelGrid>
									</h:panelGroup>
								<prime:spacer width="20px" />
								<h:panelGroup styleClass="fieldPackage" style="width: 215px" layout="block">
									<prime:commandButton value="Search" title="Search" actionListener="#{batchViewHandler.search}" id="btnSearchMNotif" update="dtMobileNotif" style="margin-right:20px;">
										<f:param name="searchParam" value="MobileNotification"></f:param>
									</prime:commandButton>
								</h:panelGroup>
								<b:message for="parameter" autoUpdate="true" />
								<b:message for="dateFromMNotif" autoUpdate="true" />
								<b:message for="dateToMNotif" autoUpdate="true" />
								</h:panelGroup>
							</b:panel>
						</b:accordion>
						<prime:dataTable value="#{batchViewHandler.mobileNotificationList}" tableStyle="width:1185px" resizableColumns="false"
							scrollable="false" scrollHeight="300"
							var="mobileNotif" id="dtMobileNotif" rowKey="#{mobileNotif.id}" paginator="true" rows="10" 
							currentPageReportTemplate="Showing {startRecord}-{endRecord} of {totalRecords}"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							paginatorPosition="bottom" rowIndexVar="index">
							
							<prime:column headerText="No" style="width:30px">
								<h:outputText value="#{index+1}"></h:outputText>
							</prime:column>
							<prime:column headerText="Fid User" style="width:100px">#{mobileNotif.fidUser}</prime:column>
							<prime:column headerText="Status Notif" style="width:100px">#{mobileNotif.statusNotif}</prime:column>
							<prime:column headerText="Parameter" style="width:150px">#{mobileNotif.parameter}</prime:column>
							<prime:column headerText="Text" style="width:170px">#{mobileNotif.text}</prime:column>
							<prime:column headerText="Title" style="width:60px">#{mobileNotif.title}</prime:column>
							<prime:column headerText="Action Type" style="width:130px">#{mobileNotif.actionType}</prime:column>
							<prime:column headerText="Active Ind" style="width:60px">#{mobileNotif.activeInd}</prime:column>
							<prime:column headerText="Priority" style="width:60px">#{mobileNotif.priority}</prime:column>
							<prime:column headerText="Retry" style="width:60px">#{mobileNotif.retry}</prime:column>
							<prime:column headerText="Status" style="width:60px">#{mobileNotif.status}</prime:column>
							<prime:column headerText="Create By" style="width:80px">#{mobileNotif.createBy}</prime:column>
							<prime:column headerText="Create Date" style="width:100px">
								<h:outputText value="#{mobileNotif.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column headerText="Last Update By" style="width:100px">#{mobileNotif.lastUpdateBy}</prime:column>
							<prime:column headerText="Last Update Date" style="width:120px">
								<h:outputText value="#{mobileNotif.lastUpdateDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column headerText="Response" style="width:250px">#{mobileNotif.response}</prime:column>
							<prime:column headerText="Response Status" style="width:80px">#{mobileNotif.responseStatus}</prime:column>
						</prime:dataTable>
					</b:panel>
					<!-- add mobile notification archive-->
					<b:panel rendered="#{batchViewHandler.showMobileNotifArchive}">
						<b:accordion>
							<b:panel id="pnlSearchMobNotifArc" title="Search">
								<h:panelGroup id="searchMobNotifArc" styleClass="fieldPackage" style="display: block">
									<h:panelGrid columns="1" cellspacing="15" columnClasses="vmid,vmid">
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:80px" value="Search By" for="searchParamMNotifArc"/>
											<prime:selectOneMenu id="searchParamMNotifArc" value="#{batchViewHandler.selectedSearchType}">
												<prime:ajax event="change" update="searchMobNotifArc" 
													listener="#{batchViewHandler.changeParamSearch}" />
												<f:selectItem itemLabel="Date" itemValue="Module"/>
												<f:selectItem itemLabel="Parameter" itemValue="Parameter"/>
											</prime:selectOneMenu>
										</h:panelGrid>
									</h:panelGrid>
									<prime:spacer height="10" width="2"/>
									<h:panelGroup rendered="#{batchViewHandler.searchByModule}">
									<h:panelGrid columns="3">
								 		<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
								 			<prime:outputLabel style="width:80px" for="dateFromMNotifArc" value="Date From" />
											<prime:calendar id="dateFromMNotifArc" value="#{batchViewHandler.date1}" pattern="yyyy/MM/dd" required="true" />
								 			</h:panelGrid>
								 			<prime:spacer width="4"/>
										<h:panelGrid columns="2" columnClasses="vmidleft,vmid">
											<prime:outputLabel style="width:30px" for="dateToMNotifArc" value="To" />
											<prime:calendar id="dateToMNotifArc" value="#{batchViewHandler.date2}" pattern="yyyy/MM/dd" required="true" />
											</h:panelGrid>
								 		</h:panelGrid>
								 	</h:panelGroup>
								 	<h:panelGroup rendered="#{batchViewHandler.searchByParameter}">
											<h:panelGrid columns="3" columnClasses="vmidleft,vmid,vmid">
												<prime:outputLabel style="width:80px" for="parameterArc" value="Parameter"/>
												<prime:inputText id="parameterArc" value="#{batchViewHandler.refId}" required="true"/>
												<prime:message for="parameterArc" display="icon" />
											</h:panelGrid>
									</h:panelGroup>
								<prime:spacer width="20px" />
								<h:panelGroup styleClass="fieldPackage" style="width: 215px" layout="block">
									<prime:commandButton value="Search" title="Search" actionListener="#{batchViewHandler.search}" id="btnSearchMNotifArc" update="dtMobileNotifArc" style="margin-right:20px;">
										<f:param name="searchParam" value="MobileNotificationArchive"></f:param>
									</prime:commandButton>
								</h:panelGroup>
								<b:message for="parameterArc" autoUpdate="true" />
								<b:message for="dateFromMNotifArc" autoUpdate="true" />
								<b:message for="dateToMNotifArc" autoUpdate="true" />
								</h:panelGroup>
							</b:panel>
						</b:accordion>
						<prime:dataTable value="#{batchViewHandler.mobileNotificationArchiveList}" tableStyle="width:1185px" resizableColumns="false"
							scrollable="false" scrollHeight="300"
							var="mobileNotifArc" id="dtMobileNotifArc" rowKey="#{mobileNotifArc.id}" paginator="true" rows="10" 
							currentPageReportTemplate="Showing {startRecord}-{endRecord} of {totalRecords}"
							paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
							paginatorPosition="bottom" rowIndexVar="index">
							
							<prime:column headerText="No" style="width:30px">
								<h:outputText value="#{index+1}"></h:outputText>
							</prime:column>
							<prime:column headerText="Fid User" style="width:100px">#{mobileNotifArc.fidUser}</prime:column>
							<prime:column headerText="Status Notif" style="width:100px">#{mobileNotifArc.statusNotif}</prime:column>
							<prime:column headerText="Parameter" style="width:150px">#{mobileNotifArc.parameter}</prime:column>
							<prime:column headerText="Text" style="width:170px">#{mobileNotifArc.text}</prime:column>
							<prime:column headerText="Title" style="width:60px">#{mobileNotifArc.title}</prime:column>
							<prime:column headerText="Action Type" style="width:130px">#{mobileNotifArc.actionType}</prime:column>
							<prime:column headerText="Active Ind" style="width:60px">#{mobileNotifArc.activeInd}</prime:column>
							<prime:column headerText="Priority" style="width:60px">#{mobileNotifArc.priority}</prime:column>
							<prime:column headerText="Retry" style="width:60px">#{mobileNotifArc.retry}</prime:column>
							<prime:column headerText="Status" style="width:60px">#{mobileNotifArc.status}</prime:column>
							<prime:column headerText="Create By" style="width:80px">#{mobileNotifArc.createBy}</prime:column>
							<prime:column headerText="Create Date" style="width:100px">
								<h:outputText value="#{mobileNotifArc.createDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column headerText="Last Update By" style="width:100px">#{mobileNotifArc.lastUpdateBy}</prime:column>
							<prime:column headerText="Last Update Date" style="width:120px">
								<h:outputText value="#{mobileNotifArc.lastUpdateDate}">
									<f:convertDateTime pattern="dd-MM-yyyy HH:mm:ss"/>
								</h:outputText>
							</prime:column>
							<prime:column headerText="Response" style="width:500px">#{mobileNotifArc.response}</prime:column>
							<prime:column headerText="Response Status" style="width:100px">#{mobileNotifArc.responseStatus}</prime:column>
						</prime:dataTable>
					</b:panel>
				</b:column>
			</b:row>
			<prime:blockUI block="formID" trigger="treeBatch, refreshWaPool, refreshWaSend, refWaOtp" >
        LOADING<br />
				<prime:graphicImage name="demo/images/ajaxloadingbar.gif" />
			</prime:blockUI>
		</h:form>
	</b:container>
</body>
</html>
